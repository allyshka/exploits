import socket


LOCAL_PORT_1 = 65123
HOST_VALID = '192.168.99.1'
FILE = 'exploit.bin'

fi=open(FILE,'rb')
with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    s.bind((HOST_VALID, LOCAL_PORT_1))
    print('Serve {} at {}:{}'.format(FILE, HOST_VALID, LOCAL_PORT_1))
    s.listen()
    conn, addr = s.accept()
    with conn:
        print('Connected by', addr)
        data = fi.read(1024)
        while data:
            conn.send(data)
            data=fi.read(1024)
        fi.close()
        print('Serve finished.')
